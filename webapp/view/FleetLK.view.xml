<mvc:View controllerName="fleetlk.controller.FleetLK"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
    
   <Page id="page">

        <Image
            id="_IDGenImage2"
            src="/img/lufthansa_banner.png"
            width="70%"
            class="sapUiLargeMargin"
            height="auto"/>

        <content>

            <IconTabBar 
                id="idFleetIconTabBar"
                headerMode="Standard"
                applyContentPadding="true"
                select=".onFilterFleet">

                <items>
                    <IconTabFilter id="_IDGenIconTabFilter1" 
                        text="All"
                        key="All"
                        icon="sap-icon://list"
                        count="{fleetDataModel>/length}" />

                    <IconTabFilter id="_IDGenIconTabFilter2" 
                        text="In Service"
                        key="In Service"
                        count="{fleetModel>/StatusCounts/In Service}"
                        icon="sap-icon://sys-enter-2" 
                        iconColor="Positive"
                         />

                    <IconTabFilter id="_IDGenIconTabFilter3" 
                        text="Under Maintenance"
                        key="Under Maintenance"
                        count="{fleetModel>/StatusCounts/Under Maintenance}"
                        icon="sap-icon://wrench"
                        iconColor="Critical" />

                    <IconTabFilter id="_IDGenIconTabFilter4" 
                        text="Out of Service"
                        key="Out of Service"
                        count="{fleetModel>/StatusCounts/Out of Service}"
                        icon="sap-icon://alert"
                        iconColor="Negative" />

                    <IconTabFilter id="_IDGenIconTabFilter5" 
                        text="Retired"
                        key="Retired"
                        count="{fleetModel>/StatusCounts/Retired}"
                        icon="sap-icon://decline"
                        iconColor="Negative" />

                        
                </items>
                
                <content>
                    <OverflowToolbar id="_IDGenOverflowToolbar2">
                        <ToolbarSpacer id="_IDGenToolbarSpacer_Start"/>
                        <Button id="_IDGenButton4" text="Export to Excel" icon="sap-icon://excel-attachment" tooltip="Export to Excel" press=".onExport"/>
                        <Button id="_IDGenButton5" text="Add New Fleet" icon="sap-icon://add-product" press=".onAddNewRecord" />
                        <Button id="_IDGenButton6" text="Edit Status" icon="sap-icon://edit" press=".editFleetRecord" />
                    </OverflowToolbar>
                    <Table
                        id="fleetTable"
                        inset="false"
                        mode="SingleSelectLeft"
                        items="{path: 'fleetDataModel>/'}">
                        
                        <columns>
                            <Column id="_IDGenColumn111"><Text id="_IDGenText354" text="ID" /></Column>
                            <Column id="_IDGenColumn8"><Text id="_IDGenText14" text="{i18n>registration}" /></Column>
                            <Column id="_IDGenColumn9"><Text id="_IDGenText15" text="{i18n>model}" /></Column>
                            <Column id="_IDGenColumn141"><Text id="_IDGenText17" text="{i18n>lastInspection}" /></Column>
                            <Column id="_IDGenColumn10"><Text id="_IDGenText16" text="{i18n>status}" /></Column>
                            <Column id="_IDGenColumn33"><Text id="_IDGenText33" text="{i18n>fleet_created_at}" /></Column>
                        </columns>

                        <items>
                            <ColumnListItem id="_IDGenColumnListItem1" vAlign="Middle" type="Navigation" press=".onRowPress" 
                                highlight="{ path: 'fleetDataModel>Status', formatter: '.formatter.statusHighlight' }">
                                <cells>
                                    <Text id="_IDGenText44" text="{fleetDataModel>UUID}" />
                                    <Text id="_IDGenText19" text="{fleetDataModel>Registration}" wrapping="false" />
                                    <Text id="_IDGenText240" text="{fleetDataModel>Model}" wrapping="false"/>
                                    <Text id="_IDGenText241" text="{path: 'fleetDataModel>LastInspection', formatter:'.formatter.formatDate'}" wrapping="false"/>
                                    <Text id="_IDGenText243" text="{fleetDataModel>Status}" />
                                    <Text id="_IDGenText244" text="{path: 'fleetDataModel>LocalCreatedAt', formatter:'.formatter.formatDateSince'}" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
            </IconTabBar>
        </content>
        </Page>
</mvc:View>