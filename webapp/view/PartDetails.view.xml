<mvc:View displayBlock="true" controllerName="fleetlk.controller.PartDetails" height="100%"
		xmlns="sap.uxap"
		xmlns:mvc="sap.ui.core.mvc"
		xmlns:m="sap.m"
		xmlns:form="sap.ui.layout.form">

	<ObjectPageLayout id="ObjectPageLayout"
			showTitleInHeaderContent="true"
			alwaysShowContentHeader="false"
			preserveHeaderStateOnScroll="false"
			headerContentPinnable="true"
			isChildPage="true"
			upperCaseAnchorBar="false">
		<headerTitle>
			<ObjectPageDynamicHeaderTitle id="_IDGenObjectPageDynamicHeaderTitle1">

			</ObjectPageDynamicHeaderTitle>
		</headerTitle>

		<headerContent>
			<m:FlexBox id="_IDGenFlexBox2" wrap="Wrap" fitContainer="true" alignItems="Stretch">
				<m:Avatar id="_IDGenAvatar7" src="/img/lth-logo.png"
					displaySize="L"
					displayShape="Square"
					class="sapUiTinyMarginEnd">
				</m:Avatar>				
				<m:VBox id="_IDGenVBox1" justifyContent="Center" class="sapUiSmallMarginEnd">
					<m:Label id="_IDGenLabel33" text="UUID"/>
					<m:Text id="_IDGenText22" text="{partsDetailsModel>/UUID}"/>
				</m:VBox>
				<m:VBox id="_IDGenVBox2" justifyContent="Center" class="sapUiSmallMarginEnd">
					<m:Label id="_IDGenLabel1" text="Registration"/>
					<m:Text id="_IDGenText31"
  						text="{partsDetailsModel>/Registration}"/>
				</m:VBox>
				<m:VBox id="_IDGenVBox3" justifyContent="Center" class="sapUiSmallMarginEnd">
					<m:Label id="_IDGenLabel2" text="Model"/>
					<m:Text id="_IDGenObjectNumber" text="{partsDetailsModel>/Model}"/>
				</m:VBox>
				<m:VBox id="_IDGenVBox4" justifyContent="Center" class="sapUiSmallMarginEnd">
					<m:Label id="_IDGenLabel44" text="Status"/>
					<m:Text id="_IDGenObjectNumber2" text="{partsDetailsModel>/Status}"/>
				</m:VBox>
			</m:FlexBox>
		</headerContent>

		<sections>
			<ObjectPageSection id="_IDGenObjectPageSection" title="Parts Information">
				<subSections>
					<ObjectPageSubSection id="_IDGenObjectPageSubSection">
						<blocks>
							<m:Table
							id="partsDetailsTable"
							mode="SingleSelectLeft"
							items="{path: 'partsDetailsModel>/to_PartsLK/results'}">

							<m:headerToolbar>
                                    <m:OverflowToolbar id="_IDGenOverflowToolbar1">

                                        <m:Title id="_IDGenTitle" text="Parts Details" level="H2"/>

                                        <m:ToolbarSpacer id="_IDGenToolbarSpacer"/>

                                        <!-- BACK BUTTON -->
                                        <m:Button 
                                            id="btnBack"
                                            text="Back" 
                                            icon="sap-icon://nav-back" 
                                            press=".onBack" />

                                        <m:Button 
                                            id="btnCreate"
                                            text="Create" 
                                            icon="sap-icon://add"
                                            type="Emphasized"
                                            press=".onAddNewRecord" />

                                        <m:Button 
                                            id="btnEdit"
                                            text="Edit" 
                                            icon="sap-icon://edit"
                                            press=".editPartRecord" />

                                        <m:Button 
                                            id="btnExportExcel"
                                            text="Export"
                                            icon="sap-icon://excel-attachment"
                                            press=".onExportExcel" />

                                    </m:OverflowToolbar>
                                </m:headerToolbar>

							<m:columns>
								<m:Column id="_IDGenColumn3" minScreenWidth="Desktop" demandPopin="true"><m:Text id="_IDGenText3" text="Part Name"/></m:Column>
								<m:Column id="_IDGenColumn1" minScreenWidth="Tablet" demandPopin="true"><m:Text id="_IDGenText1" text="Condition"/></m:Column>
								<m:Column id="_IDGenColumn2" minScreenWidth="Tablet" demandPopin="true"><m:Text id="_IDGenText2" text="Inspection Due"/></m:Column>
								<m:Column id="_IDGenColumnDelete" hAlign="Center" width="4rem">
									<m:Text id="_IDGenText32" text="Delete" />
								</m:Column>
							</m:columns>

							<m:items>
								<m:ColumnListItem id="_IDGenColumnListItem" highlight="{= ${partsDetailsModel>ConditionText} === 'OK' ? 'Success' : 'Error' }">
									<m:cells>
										<m:Text id="_IDGenText12" text="{partsDetailsModel>PartName}" />
										<m:Text id="_IDGenText9" text="{partsDetailsModel>ConditionText}" />
										<m:Text id="_IDGenText11" text="{path: 'partsDetailsModel>InspectionDue', formatter:'.formatter.formatDate'}" wrapping="false"/>
										<m:Button id="_IDGenButton2" 
											icon="sap-icon://delete" 
											type="Reject" 
											press=".onDeletePart" />
									</m:cells>
								</m:ColumnListItem>
							</m:items>
						</m:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
	</ObjectPageLayout>
</mvc:View>